<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="mapper.movie">
	<resultMap type="MovieVO" id="movieResult">
	<!-- resultMap을 사용할때 id 필요 (list 같은 상황에) -->
		<result column="mid" property="mid" />
		<result column="poster" property="poster" />
		<result column="link" property="link" />
		<result column="title" property="title" />
		<result column="content" property="content" />
		<result column="genre" property="genre" />
		<result column="runTime" property="runTime" />
		<result column="director" property="director" />
		<result column="cast" property="cast" />
		<result column="age" property="age" />
		<result column="type" property="type" />
		<result column="openDate" property="openDate" />
		
	</resultMap>
	
	
	<select id="movieList" resultMap="movieResult">
		SELECT MID, POSTER, LINK, TITLE, CONTENT, GENRE, RUNTIME, DIRECTOR, "CAST", AGE, "TYPE", OPENDATE
		FROM P_MOVIE

	</select>
	<select id="selectOne" resultMap="movieResult">
		SELECT MID, POSTER, LINK, TITLE, CONTENT, GENRE, RUNTIME, DIRECTOR, "CAST", AGE, "TYPE", OPENDATE
		FROM P_MOVIE WHERE MID=#{MID}

	</select>
	
	<insert id="insertMovie" parameterType="movieVO">
		INSERT INTO MOVIE.P_MOVIE
		(MID, POSTER, LINK, TITLE, CONTENT, GENRE, RUNTIME, DIRECTOR, "CAST", AGE, "TYPE", OPENDATE)
		VALUES(#{mid}, #{poster}, #{link}, #{title},#{content},#{genre},#{runTime},#{director},#{cast},#{age},#{type},#{openDate})


	</insert>
	
	<update id="updateMovie" parameterType="movieVO">
	UPDATE MOVIE.P_MOVIE
	SET POSTER=#{poster}, LINK=#{link}, TITLE=#{title}, CONTENT=#{content}, GENRE=#{genre}, RUNTIME=#{runTime}, DIRECTOR=#{director}, "CAST"=#{cast}, AGE=#{age}, "TYPE"=#{type}, OPENDATE=#{openDate}
	WHERE MID=#{mid}
	</update>
</mapper>